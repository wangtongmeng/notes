## 老虎国际

### http

#### ajax 有几种方式

#### 页面跳转的方式

#### get 和 post 的区别

### css

#### css在页面上画一个正方形，边长为父元素宽度的一半

### js

#### 编写代码给出扩展arr.flatAll()方法，实现无限深度的扁平

#### 写出符合下面正则的字符串，每种写三个

```js
const pattern1 = /^1{3,5}$/
const pattern2 = /^1[3,5]?$/
const pattern3 = /^1(3,5)*?$/
```

#### 说说模块化

#### es module 和 commonjs的区别

### react

#### jsx是什么，什么限制

#### useRef 和 useState的区别

#### 函数式组件如何向外暴露方法

#### 给组件添加ref 获取的是什么

```js
jsx =>**<MyComponet ref={ref****} /> // ref.current 是什么
```

#### 从渲染过程diff对比的过程讲解下列三种写法的区别

```jsx
function App() {
    const [visible, setVisible] = useState(false);

    return (
        <div>
            {/* 写法一*/}
            {visible && <Profile visible={true} />}
            {!visible && <Profile visible={false} />}
            
            {/* 写法二*/}
            {visible ? <Profile visible={true} /> : <Profile visible={false} />}
            
            {/* 写法三*/}
            <Profile visible={visible} />
        </div>
    );
}
```

#### 下面请求有什么问题

```js
function ProductList() {
    const [page, setPage] = useState(1);
    const [list, setList] = useState([]);

    useEffect(() => {
        fetch(`/api/product/list?page=${page}`).then(resp => {
            setList([...list, resp.json()]);
        });
    }, [page, list]);

    return (
        <div>
            {list.map(item => (
                <div key={item.id}>{item.name}</div>
            ))}
            <button onClick={ev => setPage(page + 1)}>Load More(current page {page})</button>
        </div>
    );
}
```

#### 编一个组件Counter，接收一个count作为初始值，实现点击增加计数功能，并且当传递的count值变化时，需要重置计数器为该值。

```js
function Counter({ count }) {
   // count 更新，组件渲染两次怎么解决
  const [count1, setCount1] = React.useState(count)

  React.useEffect(() => {
    if (count === count1) {
        setCount1(count)
    }
  }, [count])

  return (
      <>
          <h2>{count1}</h2>
          <button onClick={() => setCount1(count1+1)}>add(+1)</button>
      </>
  );
}
```

### ts

#### 使用ts实现函数一个this的类型

#### 实现一个函数的返回类型

```
定义一个TS函数，参数接收一个包含length:number属性的对象，并返回排除length属性后的新对象类型，并且可以正常读取新对象的任意属性并获得正确的类型
函数里的this，怎么用ts表示
实现一个函数泛型
// 调用示例：下方例子中的name id均为随机属性
foo({ length: 0 }); // {}
foo({ length: 1, name: 'tiger' }).name.substring(0, 1); // { name: 'tiger' } ==> 't'
foo({ length: 2, name: 'tiger', id: 123 }).id.toFixed(2); // { name: 'tiger', id: 123 } ===> '123.00'
```



